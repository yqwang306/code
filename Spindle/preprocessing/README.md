Classes

| 函数原型 | SpindleData(self, dataset_path, run_path, step=0.002, filter_length=10) |
| :------- | :----------------------------------------------------------- |
| 函数说明 | 构建一个SpindleData类，获取指定路径下的所有数据和标签，cases(病人)为0，controls(正常人)为1，并过滤掉纺锤波的个数小于filter_length的实例。 |
| 调用方法 | code.Spindle.preprocessing.SpindleData(dataset_path, run_path, step, filter_length) |
| 参数     | dataset_path: 原始数据集存放位置   run_path: 程序运行的路径   <br />step: 编码间隔，默认为0.002  filter_length: 过滤条件，纺锤波的个数小于这个值的实例将被淘汰，默认为10 |
| 返回值   | 无                                                           |



Methods

| **函数原型** | get_spindle_number_distribution(ismax_length=True)           |
| :----------- | ------------------------------------------------------------ |
| 函数说明     | 获取所有例子的基于纺锤波个数分布的编码结果                   |
| 调用方法     | 实例化一个SpindleData对象，调用该方法                        |
| 参数         | ismax_length: 是否在对齐操作中将所有序列的长度都设为最长的那个序列长度，默认为True |
| 返回值       | 返回所有例子的编码结果                                       |



| **函数原型** | set_bit_coding()                                             |
| :----------- | ------------------------------------------------------------ |
| 函数说明     | 获取所有序列的二进制编码，并进行对齐操作，将所有序列都补齐到最长的那个序列长度 |
| 调用方法     | 实例化一个SpindleData对象，调用该方法                        |
| 参数         | 无                                                           |
| 返回值       | 无                                                           |



| **函数原型** | set_sub_type_coding()                                        |
| :----------- | ------------------------------------------------------------ |
| 函数说明     | 获取所有序列的带亚型的编码，并进行对齐操作，将所有序列都补齐到最长的那个序列长度 |
| 调用方法     | 实例化一个SpindleData对象，调用该方法                        |
| 参数         | 无                                                           |
| 返回值       | 无                                                           |



| **函数原型** | writer_coding()                       |
| :----------- | ------------------------------------- |
| 函数说明     | 将未对齐的序列编码写入到文件中        |
| 调用方法     | 实例化一个SpindleData对象，调用该方法 |
| 参数         | 无                                    |
| 返回值       | 无                                    |



| **函数原型** | writing_coding_str()                               |
| :----------- | -------------------------------------------------- |
| 函数说明     | 将对齐的序列编码转化为字符串的形式，并写入到文件中 |
| 调用方法     | 实例化一个SpindleData对象，调用该方法              |
| 参数         | 无                                                 |
| 返回值       | 无                                                 |



| **函数原型** | trans_list_str(list_a)                      |
| :----------- | ------------------------------------------- |
| 函数说明     | 将数组转化为字符串                          |
| 调用方法     | classmethod，即不需要实例化，直接用类名调用 |
| 参数         | list_a: 需转化的数组                        |
| 返回值       | 返回转化后的字符串                          |



Functions

| **函数原型** | num_coding(data, w)                                          |
| :----------- | ------------------------------------------------------------ |
| 函数说明     | 基于纺锤波个数分布的编码方式，如果在w大小的一个时间窗口内至少有一个纺锤波出现，则该窗口的值设为1，否则设为0。 |
| 调用方法     | code.Spindle.preprocessing.num_coding(data, w)               |
| 参数         | data: 纺锤波出现过的时刻序列  w: 固定的时间窗口大小          |
| 返回值       | 返回编码后的序列，如[0,0,0,0,...,0,1,0,0,0,...,0,1]          |



| **函数原型** | bit_coding(data, step)                              |
| :----------- | --------------------------------------------------- |
| 函数说明     | 基于纺锤波个数的二进制编码                          |
|              | code.Spindle.preprocessing.bit_coding(data, step)   |
| 参数         | data: 纺锤波出现过的时刻序列  step: 所选择步长      |
| 返回值       | 返回编码后的序列，如[0,0,0,0,...,0,1,0,0,0,...,0,1] |



| **函数原型** | sub_type_spindle(path)                                   |
| :----------- | -------------------------------------------------------- |
| 函数说明     | 获取纺锤波序号及其对应的亚型                             |
| 调用方法     | code.Spindle.preprocessing.sub_type_spindle(path)        |
| 参数         | path: 读取文件的路径                                     |
| 返回值       | 返回一个字典，键是文件名称，值是纺锤波序号及其对应的亚型 |



| **函数原型** | sub_type_coding(data, sub_data, step)                        |
| :----------- | ------------------------------------------------------------ |
| 函数说明     | 基于纺锤波个数及其亚型的编码                                 |
| 调用方法     | code.Spindle.preprocessing.sub_type_coding(data, sub_data, step) |
| 参数         | data: 需要编码的序列  sub_data: 亚型样本  step: 步长         |
| 返回值       | 返回编码后的序列，如[0,0,0,0,...,0,3,0,0,0,...,0,5]          |



| **函数原型** | multiply(data1, data2)                            |
| :----------- | ------------------------------------------------- |
| 函数说明     | 两个相同长度序列的乘法，可以理解为向量的点积      |
| 调用方法     | code.Spindle.preprocessing.multiply(data1, data2) |
| 参数         | data1: 第一个序列  data2: 第二个序列              |
| 返回值       | 返回一个数，为相乘后的结果                        |



| **函数原型** | cos(data1, data2)                             |
| :----------- | --------------------------------------------- |
| 函数说明     | 求余弦相似度，值越接近1则两个序列的相似度越高 |
| 调用方法     | code.Spindle.preprocessing.cos(data1, data2)  |
| 参数         | data1: 第一个序列  data2: 第二个序列          |
| 返回值       | 返回一个数，为余弦相似度                      |